<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zqtools pack - Premium Multi-Tool Website</title>
    <meta name="description" content="A collection of advanced web tools for developers and professionals">
    <style>
        /* CSS Variables for Theming */
        :root {
            --bg-primary: #1E1E2F;
            --bg-secondary: #27293D;
            --bg-card: #2A2C42;
            --accent-primary: #4E73DF;
            --accent-secondary: #6C63FF;
            --gradient: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            --text-primary: #FFFFFF;
            --text-secondary: #9DA5B1;
            --success: #1CC88A;
            --warning: #F6C23E;
            --danger: #E74A3B;
            --border-radius: 16px;
            --transition: all 0.3s ease;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --card-padding: 1.8rem;
            --header-height: 70px;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(78, 115, 223, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(108, 99, 255, 0.1) 0%, transparent 25%);
        }

        /* Layout Components */
        .container {
            width: 100%;
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 1.8rem;
        }

        header {
            background-color: var(--bg-secondary);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
            height: var(--header-height);
            backdrop-filter: blur(10px);
            background: rgba(39, 41, 61, 0.85);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        /* Search and Filter */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 2rem auto;
        }

        .search-box {
            width: 100%;
            padding: 1rem 1.2rem 1rem 3.2rem;
            border-radius: 50px;
            border: 2px solid var(--bg-secondary);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 4px rgba(78, 115, 223, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }

        .tool-card {
            background-color: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--card-padding);
            box-shadow: var(--shadow);
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
            opacity: 0;
            transition: var(--transition);
        }

        .tool-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        .tool-card:hover::before {
            opacity: 1;
        }

        .tool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .tool-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .tool-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .tool-content {
            flex-grow: 1;
        }

        /* Form Elements */
        .input-group {
            margin-bottom: 1.2rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.6rem;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.95rem;
        }

        input, select, textarea, button {
            width: 100%;
            padding: 1rem 1.2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(78, 115, 223, 0.3);
        }

        textarea {
            min-height: 140px;
            resize: vertical;
            font-family: 'Fira Code', monospace;
            line-height: 1.5;
        }

        button {
            background: var(--gradient);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            padding: 1rem 1.8rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(78, 115, 223, 0.4);
        }

        button:hover::before {
            left: 100%;
        }

        button:active {
            transform: translateY(0);
        }

        .btn-sm {
            padding: 0.7rem 1.2rem;
            font-size: 0.95rem;
        }

        .btn-icon {
            margin-right: 0.6rem;
        }

        /* Result Areas */
        .result {
            margin-top: 1.2rem;
            padding: 1.2rem;
            background-color: var(--bg-secondary);
            border-radius: 12px;
            word-break: break-all;
            min-height: 60px;
            font-family: 'Fira Code', monospace;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .result::before {
            content: 'Result';
            position: absolute;
            top: -10px;
            left: 12px;
            background: var(--bg-secondary);
            padding: 0 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 1.2rem;
            border-bottom: 1px solid var(--bg-secondary);
        }

        .tab {
            padding: 0.7rem 1.2rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            font-weight: 500;
        }

        .tab.active {
            color: var(--accent-primary);
            border-bottom: 3px solid var(--accent-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Range Input */
        input[type="range"] {
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--bg-secondary);
            outline: none;
            border: none;
            border-radius: 5px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-primary);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(78, 115, 223, 0.5);
        }

        /* Checkbox Group */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 0.7rem;
            margin-bottom: 1.2rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
        }

        .checkbox-item input {
            width: auto;
            margin-right: 0.6rem;
        }

        /* Color Preview */
        .color-preview {
            width: 100%;
            height: 120px;
            border-radius: 12px;
            margin-bottom: 1.2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Timer Display */
        .timer-display {
            font-size: 3rem;
            text-align: center;
            font-variant-numeric: tabular-nums;
            margin: 1.5rem 0;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Command Palette */
        .command-palette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 1000;
            padding-top: 15%;
            backdrop-filter: blur(5px);
        }

        .command-palette.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .command-box {
            width: 90%;
            max-width: 650px;
            background-color: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .command-input {
            width: 100%;
            padding: 1.2rem;
            margin-bottom: 1.2rem;
            border-radius: 12px;
            border: 2px solid var(--bg-secondary);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1.3rem;
        }

        .command-list {
            max-height: 350px;
            overflow-y: auto;
        }

        .command-item {
            padding: 1rem 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .command-item:hover {
            background-color: var(--bg-secondary);
            transform: translateX(5px);
        }

        .command-item span {
            margin-left: 0.8rem;
            font-weight: 500;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .toast {
            padding: 1rem 1.5rem;
            border-radius: 12px;
            background-color: var(--bg-card);
            color: var(--text-primary);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            animation: slideIn 0.3s ease;
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left-color: var(--danger);
        }

        .toast.warning {
            border-left-color: var(--warning);
        }

        .toast-icon {
            margin-right: 0.8rem;
            font-size: 1.2rem;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 99;
            transition: var(--transition);
        }

        .fab:hover {
            transform: scale(1.1) rotate(90deg);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.5rem 1rem;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 100;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            bottom: calc(100% + 10px);
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .flex {
            display: flex;
        }

        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mt-1 {
            margin-top: 1rem;
        }

        .mb-1 {
            margin-bottom: 1rem;
        }

        .text-center {
            text-align: center;
        }

        .gradient-text {
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1.2rem;
            }

            .search-container {
                margin: 1.5rem auto;
            }

            .tools-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .timer-display {
                font-size: 2.5rem;
            }

            .command-palette {
                padding-top: 25%;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 1rem;
            }

            .tool-card {
                padding: 1.5rem;
            }

            .checkbox-group {
                grid-template-columns: 1fr 1fr;
            }

            .timer-display {
                font-size: 2rem;
            }

            .command-box {
                width: 95%;
                padding: 1.5rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-secondary);
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container header-content">
            <div class="logo">zqtools pack</div>
            <div class="search-container">
                <div class="search-icon">🔍</div>
                <input type="text" id="searchInput" class="search-box" placeholder="Search for tools...">
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Tools Grid -->
        <div class="tools-grid" id="toolsGrid">
            <!-- Calculator Tool -->
            <div class="tool-card" data-tool-name="calculator">
                <div class="tool-header">
                    <h3 class="tool-title">Calculator</h3>
                    <div class="tool-icon">🧮</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <input type="text" id="calcDisplay" readonly>
                    </div>
                    <div class="calc-buttons">
                        <div class="flex-between mb-1">
                            <button class="btn-sm" onclick="calcClear()">C</button>
                            <button class="btn-sm" onclick="calcBackspace()">⌫</button>
                            <button class="btn-sm" onclick="calcAppend('%')">%</button>
                            <button class="btn-sm" onclick="calcAppend('/')">/</button>
                        </div>
                        <div class="flex-between mb-1">
                            <button class="btn-sm" onclick="calcAppend('7')">7</button>
                            <button class="btn-sm" onclick="calcAppend('8')">8</button>
                            <button class="btn-sm" onclick="calcAppend('9')">9</button>
                            <button class="btn-sm" onclick="calcAppend('*')">×</button>
                        </div>
                        <div class="flex-between mb-1">
                            <button class="btn-sm" onclick="calcAppend('4')">4</button>
                            <button class="btn-sm" onclick="calcAppend('5')">5</button>
                            <button class="btn-sm" onclick="calcAppend('6')">6</button>
                            <button class="btn-sm" onclick="calcAppend('-')">-</button>
                        </div>
                        <div class="flex-between mb-1">
                            <button class="btn-sm" onclick="calcAppend('1')">1</button>
                            <button class="btn-sm" onclick="calcAppend('2')">2</button>
                            <button class="btn-sm" onclick="calcAppend('3')">3</button>
                            <button class="btn-sm" onclick="calcAppend('+')">+</button>
                        </div>
                        <div class="flex-between">
                            <button class="btn-sm" onclick="calcAppend('0')">0</button>
                            <button class="btn-sm" onclick="calcAppend('.')">.</button>
                            <button class="btn-sm" onclick="calculate()" style="flex-grow: 2; margin-left: 0.5rem;">=</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unit Converter Tool -->
            <div class="tool-card" data-tool-name="unit converter">
                <div class="tool-header">
                    <h3 class="tool-title">Unit Converter</h3>
                    <div class="tool-icon">📏</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <label for="converterValue">Value</label>
                        <input type="number" id="converterValue" placeholder="Enter value">
                    </div>
                    <div class="input-group">
                        <label for="converterCategory">Category</label>
                        <select id="converterCategory">
                            <option value="length">Length</option>
                            <option value="temperature">Temperature</option>
                            <option value="weight">Weight</option>
                            <option value="area">Area</option>
                            <option value="volume">Volume</option>
                            <option value="time">Time</option>
                            <option value="speed">Speed</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="converterFrom">From</label>
                        <select id="converterFrom">
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="converterTo">To</label>
                        <select id="converterTo">
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                    <button onclick="convertUnits()">Convert</button>
                    <div class="result" id="converterResult">Result will appear here</div>
                </div>
            </div>

            <!-- Text Utilities Tool -->
            <div class="tool-card" data-tool-name="text utilities">
                <div class="tool-header">
                    <h3 class="tool-title">Text Utilities</h3>
                    <div class="tool-icon">📝</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <textarea id="textInput" placeholder="Enter your text here"></textarea>
                    </div>
                    <div class="flex-between">
                        <button onclick="textToUpper()" class="btn-sm">UPPERCASE</button>
                        <button onclick="textToLower()" class="btn-sm">lowercase</button>
                        <button onclick="textCapitalize()" class="btn-sm">Capitalize</button>
                    </div>
                    <div class="flex-between mt-1">
                        <button onclick="textRemoveSpaces()" class="btn-sm">Remove Spaces</button>
                        <button onclick="textCopy()" class="btn-sm">Copy Text</button>
                        <button onclick="textClear()" class="btn-sm">Clear</button>
                    </div>
                    <div class="input-group mt-1">
                        <div class="flex-between">
                            <span>Word Count: <span id="wordCount">0</span></span>
                            <span>Character Count: <span id="charCount">0</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Base64 Tool -->
            <div class="tool-card" data-tool-name="base64 encode decode">
                <div class="tool-header">
                    <h3 class="tool-title">Base64 Encode/Decode</h3>
                    <div class="tool-icon">🔒</div>
                </div>
                <div class="tool-content">
                    <div class="tabs">
                        <div class="tab active" data-tab="encode">Encode</div>
                        <div class="tab" data-tab="decode">Decode</div>
                    </div>
                    <div class="tab-content active" id="encodeTab">
                        <div class="input-group">
                            <textarea id="base64EncodeInput" placeholder="Text to encode"></textarea>
                        </div>
                        <button onclick="base64Encode()">Encode</button>
                        <div class="result" id="base64EncodeResult"></div>
                    </div>
                    <div class="tab-content" id="decodeTab">
                        <div class="input-group">
                            <textarea id="base64DecodeInput" placeholder="Base64 to decode"></textarea>
                        </div>
                        <button onclick="base64Decode()">Decode</button>
                        <div class="result" id="base64DecodeResult"></div>
                    </div>
                </div>
            </div>

            <!-- URL Encoder/Decoder Tool -->
            <div class="tool-card" data-tool-name="url encode decode">
                <div class="tool-header">
                    <h3 class="tool-title">URL Encoder/Decoder</h3>
                    <div class="tool-icon">🌐</div>
                </div>
                <div class="tool-content">
                    <div class="tabs">
                        <div class="tab active" data-tab="urlencode">Encode</div>
                        <div class="tab" data-tab="urldecode">Decode</div>
                    </div>
                    <div class="tab-content active" id="urlEncodeTab">
                        <div class="input-group">
                            <textarea id="urlEncodeInput" placeholder="URL to encode"></textarea>
                        </div>
                        <button onclick="urlEncode()">Encode</button>
                        <div class="result" id="urlEncodeResult"></div>
                    </div>
                    <div class="tab-content" id="urlDecodeTab">
                        <div class="input-group">
                            <textarea id="urlDecodeInput" placeholder="URL to decode"></textarea>
                        </div>
                        <button onclick="urlDecode()">Decode</button>
                        <div class="result" id="urlDecodeResult"></div>
                    </div>
                </div>
            </div>

            <!-- JSON Formatter Tool -->
            <div class="tool-card" data-tool-name="json formatter validator">
                <div class="tool-header">
                    <h3 class="tool-title">JSON Formatter</h3>
                    <div class="tool-icon">{ }</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <textarea id="jsonInput" placeholder='Paste JSON here e.g. {"name": "John", "age": 30}'></textarea>
                    </div>
                    <button onclick="formatJson()">Format & Validate</button>
                    <div class="result" id="jsonResult"></div>
                </div>
            </div>

            <!-- Password Generator Tool -->
            <div class="tool-card" data-tool-name="password generator">
                <div class="tool-header">
                    <h3 class="tool-title">Password Generator</h3>
                    <div class="tool-icon">🔑</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <label for="passwordLength">Length: <span id="lengthValue">12</span></label>
                        <input type="range" id="passwordLength" min="6" max="30" value="12">
                    </div>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="uppercaseCheck" checked>
                            <label for="uppercaseCheck">A-Z</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="lowercaseCheck" checked>
                            <label for="lowercaseCheck">a-z</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="numbersCheck" checked>
                            <label for="numbersCheck">0-9</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="symbolsCheck" checked>
                            <label for="symbolsCheck">!@#$%</label>
                        </div>
                    </div>
                    <button onclick="generatePassword()">Generate Password</button>
                    <div class="result" id="passwordResult"></div>
                    <button onclick="copyPassword()" class="btn-sm mt-1">Copy Password</button>
                </div>
            </div>

            <!-- UUID Generator Tool -->
            <div class="tool-card" data-tool-name="uuid generator">
                <div class="tool-header">
                    <h3 class="tool-title">UUID Generator</h3>
                    <div class="tool-icon">🆔</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <label for="uuidCount">Number of UUIDs to generate</label>
                        <input type="number" id="uuidCount" min="1" max="10" value="1">
                    </div>
                    <button onclick="generateUUID()">Generate UUID v4</button>
                    <div class="result" id="uuidResult"></div>
                    <button onclick="copyUUID()" class="btn-sm mt-1">Copy UUID</button>
                </div>
            </div>

            <!-- Hash Generator Tool -->
            <div class="tool-card" data-tool-name="hash generator">
                <div class="tool-header">
                    <h3 class="tool-title">Hash Generator</h3>
                    <div class="tool-icon">#️⃣</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <textarea id="hashInput" placeholder="Text to hash"></textarea>
                    </div>
                    <div class="input-group">
                        <label for="hashAlgorithm">Algorithm</label>
                        <select id="hashAlgorithm">
                            <option value="SHA-1">SHA-1</option>
                            <option value="SHA-256" selected>SHA-256</option>
                            <option value="SHA-384">SHA-384</option>
                            <option value="SHA-512">SHA-512</option>
                        </select>
                    </div>
                    <button onclick="generateHash()">Generate Hash</button>
                    <div class="result" id="hashResult"></div>
                </div>
            </div>

            <!-- Image Tool -->
            <div class="tool-card" data-tool-name="image resizer compressor">
                <div class="tool-header">
                    <h3 class="tool-title">Image Resizer</h3>
                    <div class="tool-icon">🖼️</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <input type="file" id="imageUpload" accept="image/*">
                    </div>
                    <div class="input-group">
                        <label for="imageWidth">Width (px)</label>
                        <input type="number" id="imageWidth" placeholder="Width">
                    </div>
                    <div class="input-group">
                        <label for="imageHeight">Height (px)</label>
                        <input type="number" id="imageHeight" placeholder="Height">
                    </div>
                    <div class="input-group">
                        <label for="imageQuality">Quality: <span id="qualityValue">80</span>%</label>
                        <input type="range" id="imageQuality" min="10" max="100" value="80">
                    </div>
                    <button onclick="processImage()" id="processButton" disabled>Process Image</button>
                    <div class="result text-center" id="imageResult">
                        <canvas id="imageCanvas" class="hidden"></canvas>
                        <a id="downloadLink" class="hidden">Download Image</a>
                    </div>
                </div>
            </div>

            <!-- Color Picker Tool -->
            <div class="tool-card" data-tool-name="color picker contrast checker">
                <div class="tool-header">
                    <h3 class="tool-title">Color Picker</h3>
                    <div class="tool-icon">🎨</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <label for="colorPicker">Select Color</label>
                        <input type="color" id="colorPicker" value="#4e73df">
                    </div>
                    <div class="color-preview" id="colorPreview"></div>
                    <div class="input-group">
                        <label for="colorHex">HEX</label>
                        <input type="text" id="colorHex" value="#4e73df" readonly>
                    </div>
                    <div class="input-group">
                        <label for="colorRgb">RGB</label>
                        <input type="text" id="colorRgb" value="rgb(78, 115, 223)" readonly>
                    </div>
                    <div class="input-group">
                        <label for="contrastColor">Contrast Color</label>
                        <input type="color" id="contrastColor" value="#ffffff">
                    </div>
                    <button onclick="checkContrast()">Check Contrast</button>
                    <div class="result" id="contrastResult"></div>
                </div>
            </div>

            <!-- Stopwatch & Timer Tool -->
            <div class="tool-card" data-tool-name="stopwatch countdown timer">
                <div class="tool-header">
                    <h3 class="tool-title">Stopwatch & Timer</h3>
                    <div class="tool-icon">⏱️</div>
                </div>
                <div class="tool-content">
                    <div class="tabs">
                        <div class="tab active" data-tab="stopwatch">Stopwatch</div>
                        <div class="tab" data-tab="timer">Timer</div>
                    </div>
                    <div class="tab-content active" id="stopwatchTab">
                        <div class="timer-display" id="stopwatchDisplay">00:00:00</div>
                        <div class="flex-between">
                            <button onclick="startStopwatch()" id="stopwatchStart" class="btn-sm">Start</button>
                            <button onclick="pauseStopwatch()" id="stopwatchPause" class="btn-sm" disabled>Pause</button>
                            <button onclick="resetStopwatch()" id="stopwatchReset" class="btn-sm">Reset</button>
                        </div>
                        <div class="input-group mt-1">
                            <button onclick="addStopwatchLap()" id="stopwatchLap" class="btn-sm">Add Lap</button>
                            <div id="stopwatchLaps" class="result mt-1"></div>
                        </div>
                    </div>
                    <div class="tab-content" id="timerTab">
                        <div class="input-group">
                            <label for="timerMinutes">Minutes</label>
                            <input type="number" id="timerMinutes" min="0" max="60" value="5">
                        </div>
                        <div class="input-group">
                            <label for="timerSeconds">Seconds</label>
                            <input type="number" id="timerSeconds" min="0" max="59" value="0">
                        </div>
                        <div class="timer-display" id="timerDisplay">05:00</div>
                        <div class="flex-between">
                            <button onclick="startTimer()" id="timerStart" class="btn-sm">Start</button>
                            <button onclick="pauseTimer()" id="timerPause" class="btn-sm" disabled>Pause</button>
                            <button onclick="resetTimer()" id="timerReset" class="btn-sm">Reset</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Notes Tool -->
            <div class="tool-card" data-tool-name="quick notes">
                <div class="tool-header">
                    <h3 class="tool-title">Quick Notes</h3>
                    <div class="tool-icon">📒</div>
                </div>
                <div class="tool-content">
                    <div class="input-group">
                        <textarea id="notesInput" placeholder="Type your notes here..."></textarea>
                    </div>
                    <div class="flex-between">
                        <button onclick="saveNotes()" class="btn-sm">Save Notes</button>
                        <button onclick="clearNotes()" class="btn-sm">Clear Notes</button>
                        <button onclick="exportNotes()" class="btn-sm">Export</button>
                    </div>
                    <div class="input-group mt-1">
                        <div class="flex-between">
                            <span>Auto-saving in <span id="saveStatus">real-time</span></span>
                            <span>Chars: <span id="notesCharCount">0</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Command Palette -->
    <div class="command-palette" id="commandPalette">
        <div class="command-box">
            <input type="text" class="command-input" id="commandInput" placeholder="Type a tool name or command...">
            <div class="command-list" id="commandList">
                <!-- Command items will be generated here -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Floating Action Button -->
    <div class="fab" onclick="openCommandPalette()">⌘K</div>

    <!-- Google Ads Placeholder -->
    <div class="container mt-1 mb-1 text-center">
        <div style="background-color: #2A2C42; padding: 20px; border-radius: var(--border-radius);">
            <p>Advertisement Space</p>
            <p style="font-size: 0.8rem; color: var(--text-secondary);">Google AdSense ready</p>
        </div>
    </div>

    <script>
        // Enhanced JavaScript with more advanced features

        // DOM Elements
        const searchInput = document.getElementById('searchInput');
        const toolsGrid = document.getElementById('toolsGrid');
        const toolCards = document.querySelectorAll('.tool-card');
        const tabs = document.querySelectorAll('.tab');
        const commandPalette = document.getElementById('commandPalette');
        const commandInput = document.getElementById('commandInput');
        const commandList = document.getElementById('commandList');
        const toastContainer = document.getElementById('toastContainer');
        
        // Enhanced tool data for command palette
        const tools = [
            { name: 'Calculator', keywords: ['calc', 'calculator', 'math'], icon: '🧮' },
            { name: 'Unit Converter', keywords: ['convert', 'converter', 'unit'], icon: '📏' },
            { name: 'Text Utilities', keywords: ['text', 'uppercase', 'lowercase', 'case'], icon: '📝' },
            { name: 'Base64 Encode/Decode', keywords: ['base64', 'encode', 'decode'], icon: '🔒' },
            { name: 'URL Encoder/Decoder', keywords: ['url', 'encode', 'decode'], icon: '🌐' },
            { name: 'JSON Formatter', keywords: ['json', 'format', 'validator'], icon: '{ }' },
            { name: 'Password Generator', keywords: ['password', 'generate', 'security'], icon: '🔑' },
            { name: 'UUID Generator', keywords: ['uuid', 'generate', 'unique'], icon: '🆔' },
            { name: 'Hash Generator', keywords: ['hash', 'sha256', 'crypto'], icon: '#️⃣' },
            { name: 'Image Resizer', keywords: ['image', 'resize', 'compress'], icon: '🖼️' },
            { name: 'Color Picker', keywords: ['color', 'picker', 'contrast'], icon: '🎨' },
            { name: 'Stopwatch & Timer', keywords: ['stopwatch', 'timer', 'countdown'], icon: '⏱️' },
            { name: 'Quick Notes', keywords: ['notes', 'quick', 'save'], icon: '📒' }
        ];

        // Unit conversion data
        const unitCategories = {
            length: {
                meter: 1,
                kilometer: 1000,
                centimeter: 0.01,
                millimeter: 0.001,
                mile: 1609.34,
                yard: 0.9144,
                foot: 0.3048,
                inch: 0.0254
            },
            temperature: {
                celsius: 1,
                fahrenheit: 1, // Special handling
                kelvin: 1
            },
            weight: {
                kilogram: 1,
                gram: 0.001,
                milligram: 0.000001,
                pound: 0.453592,
                ounce: 0.0283495
            },
            area: {
                'square meter': 1,
                'square kilometer': 1000000,
                hectare: 10000,
                acre: 4046.86,
                'square mile': 2589988.11,
                'square foot': 0.092903,
                'square inch': 0.00064516
            },
            volume: {
                'cubic meter': 1,
                liter: 0.001,
                milliliter: 0.000001,
                gallon: 0.00378541,
                quart: 0.000946353,
                pint: 0.000473176,
                cup: 0.000236588
            },
            time: {
                second: 1,
                minute: 60,
                hour: 3600,
                day: 86400,
                week: 604800,
                month: 2629746, // Average month in seconds
                year: 31556952 // Average year in seconds
            },
            speed: {
                'm/s': 1,
                'km/h': 0.277778,
                'mph': 0.44704,
                knot: 0.514444,
                'ft/s': 0.3048
            }
        };

        // Initialize the application
        function init() {
            // Set up search functionality
            searchInput.addEventListener('input', filterTools);
            
            // Set up tab functionality
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    const tabContent = document.getElementById(`${tabName}Tab`);
                    
                    // Deactivate all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                    
                    // Activate current tab
                    tab.classList.add('active');
                    tabContent.classList.add('active');
                });
            });
            
            // Set up command palette
            document.addEventListener('keydown', (e) => {
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    openCommandPalette();
                }
                
                if (e.key === 'Escape') {
                    closeCommandPalette();
                }
            });
            
            commandInput.addEventListener('input', filterCommands);
            
            // Initialize tool-specific functionality
            initTextUtilities();
            initImageTool();
            initColorPicker();
            initNotes();
            initUnitConverter();
            
            // Close command palette when clicking outside
            commandPalette.addEventListener('click', (e) => {
                if (e.target === commandPalette) {
                    closeCommandPalette();
                }
            });
            
            // Show welcome message
            setTimeout(() => {
                showToast('Welcome to zqtools pack! Press Ctrl+K to open command palette', 'success');
            }, 1000);
        }

        // Search and filter tools
        function filterTools() {
            const searchTerm = searchInput.value.toLowerCase();
            
            if (searchTerm === '') {
                toolCards.forEach(card => {
                    card.style.display = 'block';
                    card.classList.add('fade-in');
                });
                return;
            }
            
            let found = false;
            
            toolCards.forEach(card => {
                const toolName = card.getAttribute('data-tool-name').toLowerCase();
                
                if (toolName.includes(searchTerm)) {
                    card.style.display = 'block';
                    card.classList.add('fade-in');
                    found = true;
                } else {
                    card.style.display = 'none';
                }
            });
            
            if (!found) {
                toolsGrid.innerHTML = `
                    <div class="no-results" style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <h2 style="margin-bottom: 1rem;">No tools found</h2>
                        <p>Try searching for something else or use the command palette (Ctrl+K)</p>
                    </div>
                `;
            }
        }

        // Command palette functionality
        function openCommandPalette() {
            commandPalette.classList.add('active');
            commandInput.value = '';
            commandInput.focus();
            populateCommandList();
        }

        function closeCommandPalette() {
            commandPalette.classList.remove('active');
        }

        function populateCommandList() {
            commandList.innerHTML = '';
            
            tools.forEach(tool => {
                const item = document.createElement('div');
                item.className = 'command-item';
                item.innerHTML = `${tool.icon} <span>${tool.name}</span>`;
                item.addEventListener('click', () => {
                    navigateToTool(tool.name);
                    closeCommandPalette();
                });
                
                commandList.appendChild(item);
            });
        }

        function filterCommands() {
            const term = commandInput.value.toLowerCase();
            const items = commandList.querySelectorAll('.command-item');
            
            items.forEach(item => {
                const toolName = item.querySelector('span').textContent.toLowerCase();
                
                if (toolName.includes(term)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function navigateToTool(toolName) {
            // Scroll to the tool
            const toolElement = document.querySelector(`[data-tool-name="${toolName.toLowerCase()}"]`);
            
            if (toolElement) {
                toolElement.scrollIntoView({ behavior: 'smooth' });
                
                // Highlight the tool briefly
                toolElement.style.boxShadow = '0 0 0 2px var(--accent-primary)';
                setTimeout(() => {
                    toolElement.style.boxShadow = '';
                }, 2000);
            }
            
            // Update search input
            searchInput.value = toolName;
            filterTools();
        }

        // Toast notification system
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <span class="toast-icon">${type === 'success' ? '✅' : type === 'error' ? '❌' : '⚠️'}</span>
                <span>${message}</span>
            `;
            
            toastContainer.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Unit Converter Functions
        function initUnitConverter() {
            const categorySelect = document.getElementById('converterCategory');
            const fromSelect = document.getElementById('converterFrom');
            const toSelect = document.getElementById('converterTo');
            
            // Populate category options
            for (const category in unitCategories) {
                categorySelect.innerHTML += `<option value="${category}">${category.charAt(0).toUpperCase() + category.slice(1)}</option>`;
            }
            
            // Update unit options when category changes
            categorySelect.addEventListener('change', updateUnitOptions);
            
            // Initialize unit options
            updateUnitOptions();
        }
        
        function updateUnitOptions() {
            const category = document.getElementById('converterCategory').value;
            const fromSelect = document.getElementById('converterFrom');
            const toSelect = document.getElementById('converterTo');
            
            // Clear existing options
            fromSelect.innerHTML = '';
            toSelect.innerHTML = '';
            
            // Add new options based on category
            for (const unit in unitCategories[category]) {
                fromSelect.innerHTML += `<option value="${unit}">${unit}</option>`;
                toSelect.innerHTML += `<option value="${unit}">${unit}</option>`;
            }
            
            // Set default "to" unit to something different from "from"
            if (toSelect.options.length > 1) {
                toSelect.selectedIndex = 1;
            }
        }
        
        function convertUnits() {
            const value = parseFloat(document.getElementById('converterValue').value);
            const category = document.getElementById('converterCategory').value;
            const fromUnit = document.getElementById('converterFrom').value;
            const toUnit = document.getElementById('converterTo').value;
            
            if (isNaN(value)) {
                document.getElementById('converterResult').textContent = 'Please enter a valid number';
                return;
            }
            
            let result;
            
            // Special handling for temperature
            if (category === 'temperature') {
                result = convertTemperature(value, fromUnit, toUnit);
            } else {
                // Convert to base unit first
                const baseValue = value * unitCategories[category][fromUnit];
                // Convert from base unit to target unit
                result = baseValue / unitCategories[category][toUnit];
            }
            
            document.getElementById('converterResult').textContent = `${value} ${fromUnit} = ${result.toFixed(6)} ${toUnit}`;
        }
        
        function convertTemperature(value, fromUnit, toUnit) {
            // Convert to Celsius first
            let celsius;
            switch (fromUnit) {
                case 'celsius':
                    celsius = value;
                    break;
                case 'fahrenheit':
                    celsius = (value - 32) * 5/9;
                    break;
                case 'kelvin':
                    celsius = value - 273.15;
                    break;
            }
            
            // Convert from Celsius to target unit
            switch (toUnit) {
                case 'celsius':
                    return celsius;
                case 'fahrenheit':
                    return (celsius * 9/5) + 32;
                case 'kelvin':
                    return celsius + 273.15;
            }
        }

        // Text Utilities Functions
        function initTextUtilities() {
            const textInput = document.getElementById('textInput');
            
            textInput.addEventListener('input', () => {
                const text = textInput.value;
                document.getElementById('wordCount').textContent = countWords(text);
                document.getElementById('charCount').textContent = text.length;
            });
        }
        
        function countWords(text) {
            return text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
        }
        
        function textToUpper() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.toUpperCase();
            updateTextCounts();
        }
        
        function textToLower() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.toLowerCase();
            updateTextCounts();
        }
        
        function textCapitalize() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.replace(/\b\w/g, c => c.toUpperCase());
            updateTextCounts();
        }
        
        function textRemoveSpaces() {
            const textInput = document.getElementById('textInput');
            textInput.value = textInput.value.replace(/\s+/g, '');
            updateTextCounts();
        }
        
        function textCopy() {
            const textInput = document.getElementById('textInput');
            textInput.select();
            document.execCommand('copy');
            
            showToast('Text copied to clipboard!', 'success');
        }
        
        function textClear() {
            document.getElementById('textInput').value = '';
            updateTextCounts();
        }
        
        function updateTextCounts() {
            const text = document.getElementById('textInput').value;
            document.getElementById('wordCount').textContent = countWords(text);
            document.getElementById('charCount').textContent = text.length;
        }

        // Base64 Functions
        function base64Encode() {
            const input = document.getElementById('base64EncodeInput').value;
            const encoded = btoa(unescape(encodeURIComponent(input)));
            document.getElementById('base64EncodeResult').textContent = encoded;
        }
        
        function base64Decode() {
            const input = document.getElementById('base64DecodeInput').value;
            try {
                const decoded = decodeURIComponent(escape(atob(input)));
                document.getElementById('base64DecodeResult').textContent = decoded;
            } catch (error) {
                document.getElementById('base64DecodeResult').textContent = 'Invalid Base64 string';
                showToast('Invalid Base64 string', 'error');
            }
        }

        // URL Encode/Decode Functions
        function urlEncode() {
            const input = document.getElementById('urlEncodeInput').value;
            const encoded = encodeURIComponent(input);
            document.getElementById('urlEncodeResult').textContent = encoded;
        }
        
        function urlDecode() {
            const input = document.getElementById('urlDecodeInput').value;
            try {
                const decoded = decodeURIComponent(input);
                document.getElementById('urlDecodeResult').textContent = decoded;
            } catch (error) {
                document.getElementById('urlDecodeResult').textContent = 'Invalid encoded URL';
                showToast('Invalid encoded URL', 'error');
            }
        }

        // JSON Formatter Functions
        function formatJson() {
            const input = document.getElementById('jsonInput').value;
            
            try {
                const parsed = JSON.parse(input);
                const formatted = JSON.stringify(parsed, null, 2);
                document.getElementById('jsonResult').textContent = formatted;
                document.getElementById('jsonResult').style.color = 'var(--text-primary)';
                showToast('JSON formatted successfully!', 'success');
            } catch (error) {
                document.getElementById('jsonResult').textContent = 'Invalid JSON: ' + error.message;
                document.getElementById('jsonResult').style.color = 'var(--danger)';
                showToast('Invalid JSON: ' + error.message, 'error');
            }
        }

        // Password Generator Functions
        function generatePassword() {
            const length = document.getElementById('passwordLength').value;
            const useUpper = document.getElementById('uppercaseCheck').checked;
            const useLower = document.getElementById('lowercaseCheck').checked;
            const useNumbers = document.getElementById('numbersCheck').checked;
            const useSymbols = document.getElementById('symbolsCheck').checked;
            
            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const numbers = '0123456789';
            const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            let characters = '';
            if (useUpper) characters += uppercase;
            if (useLower) characters += lowercase;
            if (useNumbers) characters += numbers;
            if (useSymbols) characters += symbols;
            
            if (characters === '') {
                document.getElementById('passwordResult').textContent = 'Please select at least one character type';
                showToast('Please select at least one character type', 'error');
                return;
            }
            
            let password = '';
            const array = new Uint32Array(length);
            window.crypto.getRandomValues(array);
            
            for (let i = 0; i < length; i++) {
                password += characters[array[i] % characters.length];
            }
            
            document.getElementById('passwordResult').textContent = password;
        }
        
        function copyPassword() {
            const password = document.getElementById('passwordResult').textContent;
            if (password && password !== 'Password will appear here') {
                navigator.clipboard.writeText(password).then(() => {
                    showToast('Password copied to clipboard!', 'success');
                });
            }
        }
        
        // Update password length value display
        document.getElementById('passwordLength').addEventListener('input', function() {
            document.getElementById('lengthValue').textContent = this.value;
        });

        // UUID Generator Functions
        function generateUUID() {
            const count = parseInt(document.getElementById('uuidCount').value) || 1;
            let uuids = '';
            
            for (let i = 0; i < count; i++) {
                // Generate a UUID v4 (random)
                const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
                
                uuids += uuid + (i < count - 1 ? '\n' : '');
            }
            
            document.getElementById('uuidResult').textContent = uuids;
        }
        
        function copyUUID() {
            const uuid = document.getElementById('uuidResult').textContent;
            if (uuid) {
                navigator.clipboard.writeText(uuid).then(() => {
                    showToast('UUID copied to clipboard!', 'success');
                });
            }
        }

        // Hash Generator Functions
        async function generateHash() {
            const input = document.getElementById('hashInput').value;
            const algorithm = document.getElementById('hashAlgorithm').value;
            
            if (!input) {
                document.getElementById('hashResult').textContent = 'Please enter text to hash';
                showToast('Please enter text to hash', 'error');
                return;
            }
            
            // Encode the input as UTF-8
            const encoder = new TextEncoder();
            const data = encoder.encode(input);
            
            try {
                // Generate the hash using Web Crypto API
                const hashBuffer = await crypto.subtle.digest(algorithm, data);
                
                // Convert the hash to a hexadecimal string
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                
                document.getElementById('hashResult').textContent = hashHex;
            } catch (error) {
                document.getElementById('hashResult').textContent = 'Error generating hash';
                showToast('Error generating hash', 'error');
            }
        }

        // Image Tool Functions
        function initImageTool() {
            const imageUpload = document.getElementById('imageUpload');
            const imageWidth = document.getElementById('imageWidth');
            const imageHeight = document.getElementById('imageHeight');
            const processButton = document.getElementById('processButton');
            
            imageUpload.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const img = new Image();
                        img.onload = function() {
                            // Set default dimensions to original image dimensions
                            imageWidth.value = this.width;
                            imageHeight.value = this.height;
                            processButton.disabled = false;
                        };
                        img.src = e.target.result;
                    };
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
            
            // Update quality value display
            document.getElementById('imageQuality').addEventListener('input', function() {
                document.getElementById('qualityValue').textContent = this.value;
            });
        }
        
        function processImage() {
            const file = document.getElementById('imageUpload').files[0];
            const width = parseInt(document.getElementById('imageWidth').value);
            const height = parseInt(document.getElementById('imageHeight').value);
            const quality = parseInt(document.getElementById('imageQuality').value) / 100;
            
            if (!file) {
                showToast('Please select an image first', 'error');
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.getElementById('imageCanvas');
                    const ctx = canvas.getContext('2d');
                    
                    // Set canvas dimensions
                    canvas.width = width;
                    canvas.height = height;
                    
                    // Draw image on canvas
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    // Get the data URL
                    const dataURL = canvas.toDataURL('image/jpeg', quality);
                    
                    // Calculate size reduction
                    const originalSize = file.size;
                    const newSize = Math.round((dataURL.length * 3) / 4); // Approximate base64 size
                    const reduction = Math.round((1 - newSize / originalSize) * 100);
                    
                    document.getElementById('imageResult').innerHTML = `
                        <p>Original: ${formatBytes(originalSize)}</p>
                        <p>New: ${formatBytes(newSize)} (${reduction > 0 ? reduction + '% smaller' : 'larger due to format change'})</p>
                        <a href="${dataURL}" download="resized-image.jpg" class="btn-sm" style="display: inline-block; margin-top: 10px;">Download Resized Image</a>
                    `;
                    
                    showToast('Image processed successfully!', 'success');
                };
                img.src = e.target.result;
            };
            
            reader.readAsDataURL(file);
        }
        
        function formatBytes(bytes, decimals = 2) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const dm = decimals < 0 ? 0 : decimals;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
        }

        // Color Picker Functions
        function initColorPicker() {
            const colorPicker = document.getElementById('colorPicker');
            const colorPreview = document.getElementById('colorPreview');
            
            colorPicker.addEventListener('input', function() {
                updateColorValues(this.value);
            });
            
            // Initialize with default color
            updateColorValues(colorPicker.value);
        }
        
        function updateColorValues(hex) {
            document.getElementById('colorPreview').style.backgroundColor = hex;
            document.getElementById('colorHex').value = hex;
            
            // Convert hex to RGB
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            
            document.getElementById('colorRgb').value = `rgb(${r}, ${g}, ${b})`;
        }
        
        function checkContrast() {
            const bgColor = document.getElementById('colorPicker').value;
            const textColor = document.getElementById('contrastColor').value;
            
            // Convert hex to RGB
            const bgRgb = hexToRgb(bgColor);
            const textRgb = hexToRgb(textColor);
            
            // Calculate relative luminance
            const bgLuminance = calculateLuminance(bgRgb.r, bgRgb.g, bgRgb.b);
            const textLuminance = calculateLuminance(textRgb.r, textRgb.g, textRgb.b);
            
            // Calculate contrast ratio
            const lighter = Math.max(bgLuminance, textLuminance);
            const darker = Math.min(bgLuminance, textLuminance);
            const contrastRatio = (lighter + 0.05) / (darker + 0.05);
            
            // Determine if it meets accessibility standards
            let rating = '';
            if (contrastRatio >= 7) {
                rating = 'AAA (Excellent)';
            } else if (contrastRatio >= 4.5) {
                rating = 'AA (Good)';
            } else if (contrastRatio >= 3) {
                rating = 'AA Large (Acceptable for large text)';
            } else {
                rating = 'Poor (Does not meet accessibility standards)';
            }
            
            document.getElementById('contrastResult').innerHTML = `
                <p>Contrast Ratio: ${contrastRatio.toFixed(2)}:1</p>
                <p>Rating: ${rating}</p>
            `;
        }
        
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 0, g: 0, b: 0 };
        }
        
        function calculateLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        // Stopwatch & Timer Functions
        let stopwatchInterval;
        let stopwatchTime = 0;
        let stopwatchRunning = false;
        let stopwatchLaps = [];
        
        function startStopwatch() {
            if (stopwatchRunning) return;
            
            stopwatchRunning = true;
            const startTime = Date.now() - stopwatchTime;
            
            stopwatchInterval = setInterval(() => {
                stopwatchTime = Date.now() - startTime;
                updateStopwatchDisplay();
            }, 10);
            
            document.getElementById('stopwatchStart').disabled = true;
            document.getElementById('stopwatchPause').disabled = false;
        }
        
        function pauseStopwatch() {
            if (!stopwatchRunning) return;
            
            clearInterval(stopwatchInterval);
            stopwatchRunning = false;
            
            document.getElementById('stopwatchStart').disabled = false;
            document.getElementById('stopwatchPause').disabled = true;
        }
        
        function resetStopwatch() {
            clearInterval(stopwatchInterval);
            stopwatchTime = 0;
            stopwatchRunning = false;
            stopwatchLaps = [];
            updateStopwatchDisplay();
            document.getElementById('stopwatchLaps').innerHTML = '';
            
            document.getElementById('stopwatchStart').disabled = false;
            document.getElementById('stopwatchPause').disabled = true;
        }
        
        function addStopwatchLap() {
            if (!stopwatchRunning) return;
            
            const lapTime = stopwatchTime;
            stopwatchLaps.push(lapTime);
            
            const lapItem = document.createElement('div');
            lapItem.textContent = `Lap ${stopwatchLaps.length}: ${formatTime(lapTime)}`;
            document.getElementById('stopwatchLaps').appendChild(lapItem);
        }
        
        function updateStopwatchDisplay() {
            document.getElementById('stopwatchDisplay').textContent = formatTime(stopwatchTime);
        }
        
        function formatTime(time) {
            const milliseconds = Math.floor((time % 1000) / 10);
            const seconds = Math.floor((time / 1000) % 60);
            const minutes = Math.floor((time / (1000 * 60)) % 60);
            const hours = Math.floor(time / (1000 * 60 * 60));
            
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
        }
        
        let timerInterval;
        let timerTime = 0;
        let timerRunning = false;
        
        function startTimer() {
            if (timerRunning) return;
            
            const minutes = parseInt(document.getElementById('timerMinutes').value) || 0;
            const seconds = parseInt(document.getElementById('timerSeconds').value) || 0;
            
            if (minutes === 0 && seconds === 0) {
                showToast('Please set a time first', 'error');
                return;
            }
            
            timerTime = (minutes * 60 + seconds) * 1000;
            
            if (timerTime <= 0) return;
            
            timerRunning = true;
            const startTime = Date.now();
            const endTime = startTime + timerTime;
            
            timerInterval = setInterval(() => {
                const remaining = endTime - Date.now();
                
                if (remaining <= 0) {
                    clearInterval(timerInterval);
                    timerRunning = false;
                    document.getElementById('timerDisplay').textContent = '00:00';
                    showToast('Timer finished!', 'success');
                    document.getElementById('timerStart').disabled = false;
                    document.getElementById('timerPause').disabled = true;
                    return;
                }
                
                updateTimerDisplay(remaining);
            }, 10);
            
            document.getElementById('timerStart').disabled = true;
            document.getElementById('timerPause').disabled = false;
        }
        
        function pauseTimer() {
            if (!timerRunning) return;
            
            clearInterval(timerInterval);
            timerRunning = false;
            
            document.getElementById('timerStart').disabled = false;
            document.getElementById('timerPause').disabled = true;
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            
            const minutes = parseInt(document.getElementById('timerMinutes').value) || 0;
            const seconds = parseInt(document.getElementById('timerSeconds').value) || 0;
            timerTime = (minutes * 60 + seconds) * 1000;
            
            updateTimerDisplay(timerTime);
            
            document.getElementById('timerStart').disabled = false;
            document.getElementById('timerPause').disabled = true;
        }
        
        function updateTimerDisplay(time) {
            const seconds = Math.ceil(time / 1000);
            const displayMinutes = Math.floor(seconds / 60);
            const displaySeconds = seconds % 60;
            
            document.getElementById('timerDisplay').textContent = 
                `${displayMinutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
        }

        // Quick Notes Functions
        function initNotes() {
            const notesInput = document.getElementById('notesInput');
            
            // Load saved notes
            const savedNotes = localStorage.getItem('zqtools-notes');
            if (savedNotes) {
                notesInput.value = savedNotes;
            }
            
            // Update character count
            updateNotesCharCount();
            
            // Auto-save notes
            notesInput.addEventListener('input', () => {
                localStorage.setItem('zqtools-notes', notesInput.value);
                updateNotesCharCount();
                
                // Show saving indicator
                const saveStatus = document.getElementById('saveStatus');
                saveStatus.textContent = 'saved';
                
                setTimeout(() => {
                    saveStatus.textContent = 'real-time';
                }, 2000);
            });
        }
        
        function saveNotes() {
            const notesInput = document.getElementById('notesInput');
            localStorage.setItem('zqtools-notes', notesInput.value);
            
            // Show feedback
            showToast('Notes saved successfully!', 'success');
            
            const saveStatus = document.getElementById('saveStatus');
            saveStatus.textContent = 'saved';
            
            setTimeout(() => {
                saveStatus.textContent = 'real-time';
            }, 2000);
        }
        
        function clearNotes() {
            if (confirm('Are you sure you want to clear all notes?')) {
                document.getElementById('notesInput').value = '';
                localStorage.removeItem('zqtools-notes');
                updateNotesCharCount();
                showToast('Notes cleared', 'success');
            }
        }
        
        function exportNotes() {
            const notes = document.getElementById('notesInput').value;
            const blob = new Blob([notes], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'zqtools-notes.txt';
            a.click();
            URL.revokeObjectURL(url);
            showToast('Notes exported successfully!', 'success');
        }
        
        function updateNotesCharCount() {
            const notes = document.getElementById('notesInput').value;
            document.getElementById('notesCharCount').textContent = notes.length;
        }

        // Calculator Functions
        let calcExpression = '';
        
        function calcAppend(value) {
            calcExpression += value;
            updateCalcDisplay();
        }
        
        function calcClear() {
            calcExpression = '';
            updateCalcDisplay();
        }
        
        function calcBackspace() {
            calcExpression = calcExpression.slice(0, -1);
            updateCalcDisplay();
        }
        
        function calculate() {
            try {
                // Replace × with * for evaluation
                const expression = calcExpression.replace(/×/g, '*');
                calcExpression = eval(expression).toString();
                updateCalcDisplay();
            } catch (error) {
                calcExpression = 'Error';
                updateCalcDisplay();
                setTimeout(() => {
                    calcExpression = '';
                    updateCalcDisplay();
                }, 1500);
            }
        }
        
        function updateCalcDisplay() {
            document.getElementById('calcDisplay').value = calcExpression;
        }

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
